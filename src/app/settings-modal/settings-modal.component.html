<div
    class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"
    role="dialog"
    aria-modal="true"
    aria-labelledby="settings-heading"
    cdkTrapFocus
>
    <div
        class="bg-white rounded-2xl shadow-lg p-8 w-80 flex flex-col gap-6 relative"
        tabindex="-1"
    >
        <!-- Close Button -->
        <button
            (click)="close.emit()"
            title="Close"
            aria-label="Close settings"
            class="absolute top-4 right-4 text-gray-400 hover:text-pink-400 text-2xl"
        >
            <i class="fa-solid fa-xmark" aria-hidden="true"></i>
        </button>

        <!-- Modal Heading -->
        <h2 id="settings-heading" class="text-pink-500 font-bold text-xl text-center">
            Settings
        </h2>

        <!-- Settings Form -->
        <div class="flex flex-col gap-4">
            <!-- Start Time -->
            <div class="flex flex-col">
                <label for="startHourSelect" class="text-pink-400 text-sm mb-1">Start Time</label>
                <select
                    id="startHourSelect"
                    [(ngModel)]="startHour"
                    (ngModelChange)="startHourChange.emit($event)"
                    class="rounded-full border-pink-300 text-pink-600 px-3 py-2 shadow-inner"
                >
                    <option *ngFor="let hour of validStartHours" [value]="hour">
                        {{ formatHour(hour) }}
                    </option>
                </select>
            </div>

            <!-- End Time -->
            <div class="flex flex-col">
                <label for="endHourSelect" class="text-pink-400 text-sm mb-1">End Time</label>
                <select
                    id="endHourSelect"
                    [(ngModel)]="endHour"
                    (ngModelChange)="endHourChange.emit($event)"
                    class="rounded-full border-pink-300 text-pink-600 px-3 py-2 shadow-inner"
                >
                    <option *ngFor="let hour of validEndHours" [value]="hour">
                        {{ formatHour(hour) }}
                    </option>
                </select>
            </div>

            <!-- Mute Toggle -->
            <div class="flex items-center gap-2">
                <input
                    type="checkbox"
                    id="muteToggle"
                    [(ngModel)]="muted"
                    (ngModelChange)="mutedChange.emit($event)"
                    class="form-checkbox h-5 w-5 text-pink-500 rounded focus:ring-pink-300"
                />
                    <label for="muteToggle" class="text-pink-400 text-sm">Mute Sounds</label>
            </div>
        </div>
    </div>
</div>
